
## VPCについて
このような、利用可能なネットワークの範囲のことを指す<br>
```
`192.168.1.1/24`
`192.168.1.0/24〜192.168.1.255/24`
```

基本的には同じvpc内でしかロードバランサーなどの振り分けなどはできないが、<br>
設定頑張ればTransit Gatewayなどを使い、違うところに振り分けることも可能。<br>
ただし、通常やることではない。ややこしいし。やるとしたら、リスク分散としていろいろなvpcに設定を振り分けるケース。<br>
※一つのvpcが落ちたら同じ範囲のvpcも死ぬので。

## efsとは
あるファイルがこうなっていた。
```
ec2-user ec2-user  52 Apr 25  2000 html -> /mnt/efs1/contents/example.jp/html/
```
これはシンボリックリンクであり、このパスから推測すると、EFS (Elastic File System) が使用されている可能性がある

ALB(アプリケーションロードバランサー)<br>
から<br>
クラウドウォッチをにつなぎ、クラウドウォッチの「モニタリング」機能で、閾値を指定。<br>
それを超えると、アラームイベントで、SMSを発火。<br>
AWS SMSでスラックに連携する<br>
みたいな流れ<br>

## スラックなどのSNSへの通知の流れ例
ALB(アプリケーションロードバランサー)<br>
から<br>
クラウドウォッチをにつなぎ、クラウドウォッチの「モニタリング」機能で、閾値を指定。<br>
それを超えると、アラームイベントで、SMSを発火。<br>
AWS SMSでスラックに連携する<br>
みたいな流れ<br>

## s3とcloudfront(コンテンツデリバリー)の話

s3には画像などを保存できる。
cloudfrontはその画像をキャッシュできる。

直にs3の画像にもアクセスできるが、
cloudfrontを通すことで、キャッシュを残すことができる。


初回アクセス時にはキャッシュがないため、headerのレスポンス情報には
x-cache miss from cloudfront となるが、
x-cache hit  from cloudfront となる。
※ageはキャッシュ時間。


## アマゾンオーロラ、リーダー、ライターの話。

通常、selectなどの検索系は軽く、insertやupdateなどの変更、追加系は重い。
なので、書き込むライター系db(マスター)と、それを同期するリーダー系のDB（レプリカ、スレイブと呼ばれることが多い）を分けることが多い。

例えばレプリカのdbが落ちた時に、amazon オーロラは、その落ちたdbへのアクセス優先度を下げたり、
そもそものマスター系が落ちた時にレプリカのdbをマスターに変えてくれたりなどしてくれる。
