## s3とcloudfront(コンテンツデリバリー)の話

s3には画像などを保存できる。
cloudfrontはその画像をキャッシュできる。

直にs3の画像にもアクセスできるが、
cloudfrontを通すことで、キャッシュを残すことができる。


初回アクセス時にはキャッシュがないため、headerのレスポンス情報には
x-cache miss from cloudfront となるが、
x-cache hit  from cloudfront となる。
※ageはキャッシュ時間。


## アマゾンオーロラ、リーダー、ライターの話。

通常、selectなどの検索系は軽く、insertやupdateなどの変更、追加系は重い。
なので、書き込むライター系db(マスター)と、それを同期するリーダー系のDB（レプリカ、スレイブと呼ばれることが多い）を分けることが多い。

例えばレプリカのdbが落ちた時に、amazon オーロラは、その落ちたdbへのアクセス優先度を下げたり、
そもそものマスター系が落ちた時にレプリカのdbをマスターに変えてくれたりなどしてくれる。
